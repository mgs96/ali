<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1,width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <title>Hello World</title>
    </head>
    <body>
        <canvas id="myElement" width="300" height="300"></canvas>
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/hammer.min.js"></script>
       
        <script type="text/javascript">

            var Board = function(){
                this.selectedCells = [];
                this.myElement = document.getElementById('myElement');

                var mc = new Hammer(myElement);
                mc.get('pan').set({ direction: Hammer.DIRECTION_ALL });

                mc.on("pan panend", function(ev) {
                    var x = ev.pointers[0].pageX,
                        y = ev.pointers[0].pageY;
                    
                    if(ev.type == "pan"){
                        detectCell(x, y, 300);
                    }
                });

                $(document).on("overCell", function(ev){ 
                    console.log(ev);
                });
            }

            Board.prototype.drawBoard = function() {
                var myElement = this.myElement;
                context = myElement.getContext("2d");
                for(var i=0;i<300;i=i+myElement.width/6){
                    context.moveTo(i, 0);
                    context.lineTo(i, myElement.width);
                }

                for(var i=0;i<300;i=i+myElement.width/6){
                    context.moveTo(0, i);
                    context.lineTo(myElement.width, i);
                }

                for(var i=0;i<this.selectedCells.length;i++){
                    var cell = this.selectedCells[i];
                    var row = cell[0];
                    var column = cell[1];
                    context.fillRect(row*50, column*50, (row+1)*50, (column+1)*50);
                }
                context.stroke();
            }

            var v = new Board();
            v.drawBoard();

            // Hammer.on(window, function(ev) {
            //     console.log(ev.type);
            // });

 

        </script>
    </body>
</html>
